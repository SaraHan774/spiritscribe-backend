# SpiritScribe Backend 완성 TODO 리스트

## 📋 개요
SpiritScribe 위스키 소셜 커뮤니티 백엔드 프로젝트 완성을 위한 상세한 TODO 리스트입니다.

---

## 🏗️ Phase 1: 핵심 인프라 구축 (1-2주)

### 1.1 데이터베이스 스키마 완성
- [ ] **사용자 관련 테이블**
  - [ ] `users` 테이블 최적화 (인덱스, 제약조건)
  - [ ] `user_stats` 테이블 완성
  - [ ] `follows` 테이블 (팔로우 관계)
  - [ ] `blocks` 테이블 (차단 관계)
  - [ ] 사용자 프로필 이미지 업로드 필드 추가

- [ ] **체크인 관련 테이블**
  - [ ] `check_ins` 테이블 완성
  - [ ] `check_in_images` 테이블 (이미지 관리)
  - [ ] `check_in_tags` 테이블 (태그 시스템)
  - [ ] `check_in_hashtags` 테이블 (해시태그 연결)

- [ ] **소셜 인터랙션 테이블**
  - [ ] `likes` 테이블 (좋아요)
  - [ ] `comments` 테이블 (댓글)
  - [ ] `shares` 테이블 (공유)
  - [ ] `notifications` 테이블 (알림)

- [ ] **위스키 관련 테이블**
  - [ ] `whiskeys` 테이블 확장 (소셜 필드 추가)
  - [ ] `whiskey_notes` 테이블 (기존)
  - [ ] `whiskey_favorites` 테이블 (즐겨찾기)

- [ ] **위치 및 검색 테이블**
  - [ ] `locations` 테이블 (장소 정보)
  - [ ] `hashtags` 테이블 (해시태그)
  - [ ] 공간 인덱스 설정 (위치 기반 검색)

### 1.2 Flyway 마이그레이션
- [ ] V2__add_social_tables.sql
- [ ] V3__add_checkin_tables.sql
- [ ] V4__add_interaction_tables.sql
- [ ] V5__add_location_hashtag_tables.sql
- [ ] V6__add_indexes_and_constraints.sql
- [ ] V7__add_triggers_for_stats.sql

### 1.3 Redis 캐싱 전략
- [ ] 사용자 프로필 캐싱
- [ ] 체크인 피드 캐싱
- [ ] 트렌딩 해시태그 캐싱
- [ ] 세션 관리 (JWT 토큰)
- [ ] Rate limiting 구현

---

## 🔐 Phase 2: 인증 및 보안 (1주)

### 2.1 JWT 인증 시스템
- [ ] **JWT 토큰 관리**
  - [ ] Access Token 생성/검증
  - [ ] Refresh Token 구현
  - [ ] 토큰 만료 처리
  - [ ] 토큰 블랙리스트 관리

- [ ] **인증 필터**
  - [ ] JwtAuthenticationFilter 구현
  - [ ] JwtAuthorizationFilter 구현
  - [ ] 인증 예외 처리
  - [ ] 권한 기반 접근 제어

### 2.2 사용자 인증 API
- [ ] **회원가입**
  - [ ] 이메일 중복 검사
  - [ ] 사용자명 중복 검사
  - [ ] 비밀번호 암호화 (BCrypt)
  - [ ] 이메일 인증 시스템

- [ ] **로그인**
  - [ ] 이메일/사용자명 로그인
  - [ ] 소셜 로그인 (Google, Apple)
  - [ ] 로그인 시도 제한
  - [ ] 로그인 히스토리 기록

- [ ] **비밀번호 관리**
  - [ ] 비밀번호 재설정
  - [ ] 비밀번호 변경
  - [ ] 비밀번호 정책 검증

### 2.3 보안 강화
- [ ] **Rate Limiting**
  - [ ] API별 요청 제한
  - [ ] IP 기반 제한
  - [ ] 사용자별 제한
  - [ ] Redis 기반 카운터

- [ ] **입력 검증**
  - [ ] Bean Validation 적용
  - [ ] XSS 방지
  - [ ] SQL Injection 방지
  - [ ] 파일 업로드 보안

---

## 👥 Phase 3: 사용자 관리 시스템 (1주)

### 3.1 사용자 프로필 API
- [ ] **프로필 조회**
  - [ ] 본인 프로필 조회
  - [ ] 다른 사용자 프로필 조회
  - [ ] 프로필 통계 포함
  - [ ] 팔로우 상태 포함

- [ ] **프로필 수정**
  - [ ] 기본 정보 수정
  - [ ] 프로필 이미지 업로드
  - [ ] 비공개 계정 설정
  - [ ] 계정 삭제 (소프트 삭제)

### 3.2 팔로우 시스템
- [ ] **팔로우 관리**
  - [ ] 사용자 팔로우/언팔로우
  - [ ] 팔로워 목록 조회
  - [ ] 팔로잉 목록 조회
  - [ ] 팔로우 상태 확인

- [ ] **차단 시스템**
  - [ ] 사용자 차단/차단 해제
  - [ ] 차단된 사용자 목록
  - [ ] 차단된 사용자 필터링

### 3.3 사용자 검색
- [ ] **검색 기능**
  - [ ] 사용자명 검색
  - [ ] 표시명 검색
  - [ ] 실시간 검색 제안
  - [ ] 검색 결과 페이지네이션

---

## 🥃 Phase 4: 체크인 시스템 (2주)

### 4.1 체크인 CRUD
- [ ] **체크인 생성**
  - [ ] 위스키 선택/검색
  - [ ] 위치 정보 입력
  - [ ] 평점 및 노트 작성
  - [ ] 이미지 업로드 (최대 5장)
  - [ ] 태그 및 해시태그

- [ ] **체크인 조회**
  - [ ] 개별 체크인 조회
  - [ ] 사용자 체크인 목록
  - [ ] 위스키별 체크인 목록
  - [ ] 위치별 체크인 목록

- [ ] **체크인 수정/삭제**
  - [ ] 체크인 내용 수정
  - [ ] 이미지 추가/삭제
  - [ ] 체크인 삭제
  - [ ] 삭제된 체크인 복구

### 4.2 피드 시스템
- [ ] **홈 피드**
  - [ ] 팔로우한 사용자 체크인
  - [ ] 시간순 정렬
  - [ ] 무한 스크롤 지원
  - [ ] 캐싱 최적화

- [ ] **탐색 피드**
  - [ ] 모든 공개 체크인
  - [ ] 인기 체크인
  - [ ] 추천 체크인
  - [ ] 필터링 옵션

### 4.3 이미지 관리
- [ ] **이미지 업로드**
  - [ ] AWS S3 연동
  - [ ] 이미지 리사이징
  - [ ] 썸네일 생성
  - [ ] 이미지 압축

- [ ] **이미지 처리**
  - [ ] EXIF 데이터 제거
  - [ ] 이미지 검증
  - [ ] 중복 이미지 감지
  - [ ] 이미지 삭제

---

## 💬 Phase 5: 소셜 인터랙션 (1주)

### 5.1 좋아요 시스템
- [ ] **좋아요 관리**
  - [ ] 체크인 좋아요/취소
  - [ ] 댓글 좋아요/취소
  - [ ] 좋아요 수 실시간 업데이트
  - [ ] 좋아요한 사용자 목록

### 5.2 댓글 시스템
- [ ] **댓글 CRUD**
  - [ ] 댓글 작성
  - [ ] 댓글 수정
  - [ ] 댓글 삭제
  - [ ] 대댓글 지원

- [ ] **댓글 조회**
  - [ ] 댓글 목록 조회
  - [ ] 댓글 페이지네이션
  - [ ] 댓글 정렬 (시간순/인기순)
  - [ ] 댓글 검색

### 5.3 공유 시스템
- [ ] **공유 기능**
  - [ ] 체크인 공유
  - [ ] 외부 플랫폼 공유
  - [ ] 공유 통계
  - [ ] 공유 링크 생성

---

## 🔔 Phase 6: 알림 시스템 (1주)

### 6.1 알림 생성
- [ ] **알림 트리거**
  - [ ] 좋아요 알림
  - [ ] 댓글 알림
  - [ ] 팔로우 알림
  - [ ] 멘션 알림

- [ ] **알림 저장**
  - [ ] 알림 데이터베이스 저장
  - [ ] 알림 메타데이터
  - [ ] 알림 그룹화
  - [ ] 알림 중복 방지

### 6.2 실시간 알림
- [ ] **WebSocket 구현**
  - [ ] 실시간 알림 전송
  - [ ] 연결 관리
  - [ ] 알림 배치 처리
  - [ ] 연결 끊김 처리

- [ ] **푸시 알림**
  - [ ] FCM 연동
  - [ ] 디바이스 토큰 관리
  - [ ] 알림 템플릿
  - [ ] 알림 설정

### 6.3 알림 관리
- [ ] **알림 조회**
  - [ ] 알림 목록 조회
  - [ ] 읽음/안읽음 상태
  - [ ] 알림 필터링
  - [ ] 알림 검색

- [ ] **알림 설정**
  - [ ] 알림 타입별 설정
  - [ ] 알림 시간 설정
  - [ ] 알림 음소거
  - [ ] 알림 삭제

---

## 🏷️ Phase 7: 태그 및 해시태그 (1주)

### 7.1 해시태그 시스템
- [ ] **해시태그 관리**
  - [ ] 해시태그 자동 추출
  - [ ] 해시태그 정규화
  - [ ] 해시태그 통계
  - [ ] 해시태그 검색

- [ ] **트렌딩 해시태그**
  - [ ] 인기도 계산
  - [ ] 시간별 트렌드
  - [ ] 지역별 트렌드
  - [ ] 캐싱 최적화

### 7.2 태그 시스템
- [ ] **태그 관리**
  - [ ] 태그 생성/수정
  - [ ] 태그 카테고리
  - [ ] 태그 검색
  - [ ] 태그 통계

---

## 📍 Phase 8: 위치 서비스 (1주)

### 8.1 위치 기반 서비스
- [ ] **위치 검색**
  - [ ] 근처 장소 검색
  - [ ] 장소명 검색
  - [ ] 카테고리별 검색
  - [ ] 거리 기반 정렬

- [ ] **위치 데이터**
  - [ ] 장소 정보 저장
  - [ ] 장소 인증
  - [ ] 장소 통계
  - [ ] 장소 리뷰

### 8.2 지도 연동
- [ ] **지도 API**
  - [ ] Google Maps 연동
  - [ ] 좌표 변환
  - [ ] 지도 마커
  - [ ] 경로 표시

---

## 🔍 Phase 9: 검색 시스템 (1주)

### 9.1 통합 검색
- [ ] **검색 엔진**
  - [ ] Elasticsearch 연동
  - [ ] 검색 인덱싱
  - [ ] 검색 쿼리 최적화
  - [ ] 검색 결과 랭킹

- [ ] **검색 기능**
  - [ ] 통합 검색
  - [ ] 카테고리별 검색
  - [ ] 고급 검색
  - [ ] 검색 제안

### 9.2 검색 최적화
- [ ] **성능 최적화**
  - [ ] 검색 캐싱
  - [ ] 검색 결과 캐싱
  - [ ] 검색 인덱스 최적화
  - [ ] 검색 통계

---

## 📊 Phase 10: 분석 및 통계 (1주)

### 10.1 사용자 분석
- [ ] **사용자 통계**
  - [ ] 활성 사용자 수
  - [ ] 사용자 성장률
  - [ ] 사용자 행동 분석
  - [ ] 사용자 세그먼트

### 10.2 콘텐츠 분석
- [ ] **콘텐츠 통계**
  - [ ] 체크인 통계
  - [ ] 인기 위스키
  - [ ] 인기 장소
  - [ ] 콘텐츠 참여도

### 10.3 비즈니스 분석
- [ ] **비즈니스 지표**
  - [ ] DAU/MAU
  - [ ] 사용자 유지율
  - [ ] 수익 지표
  - [ ] 마케팅 지표

---

## 🚀 Phase 11: 성능 최적화 (1주)

### 11.1 데이터베이스 최적화
- [ ] **쿼리 최적화**
  - [ ] 인덱스 최적화
  - [ ] 쿼리 성능 분석
  - [ ] 슬로우 쿼리 모니터링
  - [ ] 쿼리 캐싱

- [ ] **데이터베이스 확장**
  - [ ] 읽기 전용 복제본
  - [ ] 파티셔닝
  - [ ] 샤딩 준비
  - [ ] 백업 전략

### 11.2 애플리케이션 최적화
- [ ] **캐싱 전략**
  - [ ] Redis 클러스터
  - [ ] 캐시 무효화
  - [ ] 캐시 히트율 모니터링
  - [ ] 캐시 전략 최적화

- [ ] **비동기 처리**
  - [ ] 이벤트 기반 아키텍처
  - [ ] 메시지 큐 (RabbitMQ/Kafka)
  - [ ] 배치 처리
  - [ ] 백그라운드 작업

---

## 🔧 Phase 12: 모니터링 및 로깅 (1주)

### 12.1 모니터링 시스템
- [ ] **애플리케이션 모니터링**
  - [ ] Prometheus + Grafana
  - [ ] 메트릭 수집
  - [ ] 대시보드 구성
  - [ ] 알림 설정

- [ ] **인프라 모니터링**
  - [ ] 서버 리소스 모니터링
  - [ ] 데이터베이스 모니터링
  - [ ] 네트워크 모니터링
  - [ ] 로그 모니터링

### 12.2 로깅 시스템
- [ ] **구조화된 로깅**
  - [ ] ELK Stack (Elasticsearch, Logstash, Kibana)
  - [ ] 로그 수집
  - [ ] 로그 분석
  - [ ] 로그 검색

- [ ] **에러 추적**
  - [ ] Sentry 연동
  - [ ] 에러 알림
  - [ ] 에러 분석
  - [ ] 에러 해결 추적

---

## 🧪 Phase 13: 테스트 (2주)

### 13.1 단위 테스트
- [ ] **서비스 테스트**
  - [ ] UserService 테스트
  - [ ] CheckInService 테스트
  - [ ] NotificationService 테스트
  - [ ] 테스트 커버리지 80% 이상

### 13.2 통합 테스트
- [ ] **API 테스트**
  - [ ] REST API 테스트
  - [ ] WebSocket 테스트
  - [ ] 데이터베이스 테스트
  - [ ] 외부 서비스 테스트

### 13.3 성능 테스트
- [ ] **부하 테스트**
  - [ ] JMeter/Gatling
  - [ ] 동시 사용자 테스트
  - [ ] 응답 시간 테스트
  - [ ] 메모리 사용량 테스트

---

## 📚 Phase 14: 문서화 (1주)

### 14.1 API 문서화
- [ ] **OpenAPI/Swagger**
  - [ ] API 스펙 문서화
  - [ ] 예제 코드
  - [ ] 에러 코드 문서화
  - [ ] 버전 관리

### 14.2 개발 문서화
- [ ] **개발 가이드**
  - [ ] 설치 가이드
  - [ ] 개발 환경 설정
  - [ ] 배포 가이드
  - [ ] 트러블슈팅

### 14.3 운영 문서화
- [ ] **운영 가이드**
  - [ ] 모니터링 가이드
  - [ ] 백업/복구 가이드
  - [ ] 보안 가이드
  - [ ] 성능 튜닝 가이드

---

## 🚢 Phase 15: 배포 및 운영 (1주)

### 15.1 CI/CD 파이프라인
- [ ] **자동화 파이프라인**
  - [ ] GitHub Actions
  - [ ] 자동 테스트
  - [ ] 자동 배포
  - [ ] 롤백 전략

### 15.2 컨테이너화
- [ ] **Docker 최적화**
  - [ ] 멀티 스테이지 빌드
  - [ ] 이미지 최적화
  - [ ] 보안 스캔
  - [ ] 레지스트리 관리

### 15.3 클라우드 배포
- [ ] **AWS 배포**
  - [ ] ECS/Fargate
  - [ ] RDS 설정
  - [ ] ElastiCache 설정
  - [ ] CloudFront 설정

---

## 🔒 Phase 16: 보안 강화 (1주)

### 16.1 보안 감사
- [ ] **보안 검토**
  - [ ] 코드 보안 검토
  - [ ] 의존성 보안 검사
  - [ ] 취약점 스캔
  - [ ] 보안 테스트

### 16.2 데이터 보호
- [ ] **개인정보 보호**
  - [ ] GDPR 준수
  - [ ] 데이터 암호화
  - [ ] 데이터 마스킹
  - [ ] 데이터 삭제

---

## 📈 Phase 17: 확장성 준비 (1주)

### 17.1 마이크로서비스 준비
- [ ] **서비스 분리**
  - [ ] 사용자 서비스
  - [ ] 체크인 서비스
  - [ ] 알림 서비스
  - [ ] 검색 서비스

### 17.2 이벤트 기반 아키텍처
- [ ] **이벤트 시스템**
  - [ ] 이벤트 발행
  - [ ] 이벤트 구독
  - [ ] 이벤트 저장
  - [ ] 이벤트 재생

---

## 🎯 Phase 18: 최종 검증 (1주)

### 18.1 전체 테스트
- [ ] **시나리오 테스트**
  - [ ] 사용자 여정 테스트
  - [ ] 엣지 케이스 테스트
  - [ ] 성능 테스트
  - [ ] 보안 테스트

### 18.2 프로덕션 준비
- [ ] **운영 준비**
  - [ ] 모니터링 설정
  - [ ] 백업 설정
  - [ ] 알림 설정
  - [ ] 문서화 완료

---

## 📋 총 예상 기간: 18-20주 (약 4-5개월)

### 우선순위
1. **High Priority**: Phase 1-6 (핵심 기능)
2. **Medium Priority**: Phase 7-12 (고급 기능)
3. **Low Priority**: Phase 13-18 (최적화 및 운영)

### 팀 구성 권장
- **백엔드 개발자**: 2-3명
- **DevOps 엔지니어**: 1명
- **QA 엔지니어**: 1명
- **프로젝트 매니저**: 1명

### 기술 스택 요약
- **Backend**: Kotlin + Spring Boot 3.4.x
- **Database**: PostgreSQL + Redis
- **Cache**: Redis Cluster
- **Search**: Elasticsearch
- **Message Queue**: RabbitMQ/Kafka
- **Monitoring**: Prometheus + Grafana
- **Logging**: ELK Stack
- **Cloud**: AWS (ECS, RDS, ElastiCache, S3)
- **CI/CD**: GitHub Actions
- **Container**: Docker + ECS

---

## 📝 참고사항

### 개발 원칙
- **테스트 주도 개발** (TDD)
- **코드 리뷰** 필수
- **문서화** 병행
- **성능 모니터링** 지속적
- **보안 검토** 정기적

### 품질 기준
- **코드 커버리지**: 80% 이상
- **API 응답 시간**: 200ms 이하
- **가용성**: 99.9% 이상
- **보안**: OWASP Top 10 준수
